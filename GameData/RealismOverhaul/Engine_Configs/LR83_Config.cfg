// XLR71/XLR83/LR83
// BDB
// http://www.alternatewars.com/BBOW/Space_Engines/Rocketdyne_Engines.htm
// http://www.astronautix.com/x/xlr71-na-1.html
// http://www.astronautix.com/x/xlr83-na-1.html
// http://www.astronautix.com/l/lr83-na-1.html
// http://www.astronautix.com/n/navahog-26.html
// http://www.astronautix.com/n/navahog-38.html
// NB: all config values are calculated for a single engine - the XLR83 and LR83 were flown IRL in clusters of 2 and 3 respectively, fed from a single gas generator but with separate turbopumps.

@PART[*]:HAS[#engineType[LR83]]:FOR[RealismOverhaulEngines]
{
	%title = LR71/83 Series
	%manufacturer = Rocketdyne
	%description =  Gas generator, pump-fed rocket engine designed for booster applications. Predecessor to LR79 Series Engine. Originally planned to use LOx/Alcohol, production models were improved and modified to burn Kerosene instead. Three XLR83 engines would have been used in the Navaho G-38 booster. Diameter: [0.88 m].
	
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		modded = false
		configuration = XLR71-NA-1
		origMass = 1.1344 // 2501lbs
		CONFIG
		{
			name = XLR71-NA-1
			minThrust = 618.3
			maxThrust = 618.3 // 533.8 asl (1)
			heatProduction = 100
			massMult = 1.0
			ullage = True
			pressureFed = False
			ignitions = 1
			
			PROPELLANT
			{
				name = Ethanol75
				ratio = 0.2809
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.7191
			}
			atmosphereCurve
			{
				key = 0 265
				key = 1 229 // (1)
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}
		}
		CONFIG
		{
			name = XLR83-NA-1
			minThrust = 602
			maxThrust = 602 // 533.8 asl (5)
			heatProduction = 100
			massMult = 0.9596 // 2400lbs
			ullage = True
			pressureFed = False
			ignitions = 1
			
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.2809
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.7191
			}
			atmosphereCurve
			{
				key = 0 273 
				key = 1 245 // (5)
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}
		}
		CONFIG
		{
			name = LR83-NA-1
			minThrust = 683.0
			maxThrust = 683.0 // 602.0 asl
			heatProduction = 100
			massMult = 0.9596
			ullage = True
			pressureFed = False
			ignitions = 1
			
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.2809
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.7191
			}
			atmosphereCurve
			{
				key = 0 282 
				key = 1 248
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}
		}
	}

	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 8
		%useGimbalResponseSpeed = True
		%gimbalResponseSpeed = 16
	}

	!MODULE[ModuleAlternator]
	{
	}
}

// Reliability values extrapolated from LR79 values

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR71-NA-1]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = XLR71-NA-1
		ratedBurnTime = 65 // (1)
		ignitionReliabilityStart = 0.85
		ignitionReliabilityEnd = 0.95
		cycleReliabilityStart = 0.86
		cycleReliabilityEnd = 0.9
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR83-NA-1]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = XLR83-NA-1
		ratedBurnTime = 76 // (5)
		ignitionReliabilityStart = 0.87
		ignitionReliabilityEnd = 0.96
		cycleReliabilityStart = 0.89
		cycleReliabilityEnd = 0.945
		techTransfer = XLR71-NA-1:50
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[LR83-NA-1]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = LR83-NA-1
		ratedBurnTime = 93 // (1)
		ignitionReliabilityStart = 0.89
		ignitionReliabilityEnd = 0.97
		cycleReliabilityStart = 0.9
		cycleReliabilityEnd = 0.967
		techTransfer = XLR71-NA-1,XLR83-NA-1:50
	}
}
