@PART[bluedog_Apollo_Block2_LES]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%category = Engine
	@MODEL
	{
		@scale = 1.37, 1.37, 1.37
	}
	@node_stack_bottom = 0.0, -4.3155, 0.0, -1.0, 0.0, 1
	@title = Apollo Launch Escape Assembly
	@description = The LEA provides the means for separation the CM from the launch vehicle during pad or suborbital aborts. This assembly consists of a Q-ball instrumentation assembly, ballast compartment, canard surfaces, pitch control motor, tower jettison motor, launch escape motor, a structural skirt, an open-frame tower, and a boost protective cover.
	@mass = 2.574
	@maxTemp = 1973.15
	%stagingIcon = DECOUPLER_VERT
	!RESOURCE[SolidFuel]
	{
	}
	@MODULE[ModuleEngines*]
	{
		@minThrust = 689.5
		@maxThrust = 689.5
		@heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 190
			@key,1 = 1 176
		}
	}
	@MODULE[ModuleDecouple]
	{
		@ejectionForce = 100
		@explosiveNodeID = bottom
		%staged = true
	}
	MODULE
	{
		name = ModuleFuelTanks
		type = HTPB
		volume = 903.38
		basemass = -1
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		modded = False
		configuration = Solid
		CONFIG
		{
			name = Solid
			minThrust = 0
			maxThrust = 689.5
			PROPELLANT
			{
				name = HTPB
				ratio = 1.0
			}
			atmosphereCurve
			{
				key = 0 190
				key = 1 176
			}
		}
	}
}
@PART[bluedog_Apollo_Block2_ActiveDockingMechanism]:FOR[RealismOverhaul]	
{
	%RSSROConfig = True
	@MODEL
	{
		@scale = 1.37, 1.37, 1.37
	}
	@node_stack_top = 0.0, 0.0493196849, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -0.04932, 0.0, 0.0, -1.0, 0.0, 1
	@title = Apollo Docking Mechanism Probe
	@description = Apollo Command Module Docking Probe. Will only work with the Apollo Lunar Module Drogue. Once soft docking is achieved and the vessels properly aligned, retract the probe to hard dock and establish a solid connection.
	@mass = 0.036
	@MODULE[ModuleDockingNode]
	{
		@nodeType = Apollo
		%gendered = True
		%genderFemale = False
		%acquireForce = 0.5 // 2
		%acquireMinFwdDot = 0.8 // 0.7
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25 // 0.5
		%acquireTorque = 0.5 // 2.0
		%captureMaxRvel = 0.1 // 0.3
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05 // 0.06
		%minDistanceToReEngage = 0.25 // 1.0
		%undockEjectionForce = 0.1 // 10
	}
}
//No forward heatshield part, so divvy up its mass between the parachutes instead (0.0766)
@PART[bluedog_Apollo_Block2_Parachute]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODEL
	{
		@scale = 1.37, 1.37, 1.37
	]
	@title = Apollo Command Module Main Parachutes
	@description = The main recovery parachute for the Apollo Command Module. Place in 3x symmetry around the Apollo Command Module Parachute Mount.
	@mass = 0.0816667
	%skinMaxTemp = 3800 //Needs to have the thermal properties of the forward heat shield
	%maxTemp = 2500
	%MODULE[RealChuteModule]
	{
		%caseMass = 0.05656667
		%mustGoDown = true
		%spareChutes = 0
		%PARACHUTE
		{
			%preDeployedDiameter = 1.056667
			%deployedDiameter = 13.55
			%minIsPressure = false
			%minDeployment = 3200
			%deploymentAlt = 700
			%preDeploymentSpeed = 1
			%deploymentSpeed = 1
			%parachuteName = canopy
			%capName = cap
		}
	}		
	@MODULE[ModuleParachute]
	{
		@semiDeployedDrag = 1.3333
		@fullyDeployedDrag = 266.6667
		@deployAltitude = 1000
	}
}
// Parachutes will be in aero flow during reentry due to lack of separate forward heat shield part
@PART[bluedog_Apollo_Block2_Parachute]:AFTER[RealismOverhaul]:NEEDS[DeadlyReentry]
{
	@maxTemp = 3000
	
	MODULE
	{
		name = ModuleAeroReentry
		%skinMaxTemp = 3800
	}
}
@PART[bluedog_Apollo_Block3_ServiceModule]:FOR[RealismOverhaul]
{
	@rescaleFactor = 1.6
	@mass = 1.0
	
	%RSSROConfig = True

	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}

	!MODULE[ModuleBdbBoiloff] {}
	!MODULE[ModuleB9PartInfo] {}
	!MODULE[ModuleB9PartSwitch] {}
	
	MODULE
	{
		name = TacGenericConverter
		%converterName = LOX-O2
		%StartActionName = Start Oxygen Generator
		%StopActionName = Stop Oxygen Generator
		%conversionRate = 3.0
		//inputResources = LqdOxygen, 0.0000084787, ElectricCharge, 0.025
		//outputResources = Oxygen, 0.006883126, false
		INPUT_RESOURCE
		{
			%ResourceName = LqdOxygen
			%Ratio = 0.0000084787
		}
		INPUT_RESOURCE
		{
			%ResourceName = ElectricCharge
			%Ratio = 0.025
		}
		OUTPUT_RESOURCE
		{
			%ResourceName = Oxygen
			%Ratio = 0.006883126
			%DumpExcess = false
		}
	}
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 2090
		basemass = -1
		TANK
		{
			name = Water
			amount = 410
			maxAmount = 410
		}
		TANK
		{
			name = LqdOxygen
			amount = 165
			maxAmount = 165
		}
		TANK
		{
			name = Oxygen
			amount = 165
			maxAmount = 165
		}
		TANK
		{
			name = Aerozine50
			amount = 488
			maxAmount = 488
		}
		TANK
		{
			name = NTO
			amount = 485
			maxAmount = 485
		}
		TANK
		{
			name = MMH
			amount = 237.6
			maxAmount = 237.6
		}
		TANK
		{
			name = ElectricCharge
			amount = 300000
			maxAmount = 300000
		}
	}
}

@PART[bluedog_Apollo_Block3_ServiceEngine]:FOR[RealismOverhaul]
{
	%node_stack_LMA = 0.0, -1.84, 0.0, 0.0, -1.0, 0.0, 2
	
	@rescaleFactor = 1.6
	@mass = 0.18
	@maxTemp = 1973.15
	
	%RSSROConfig = True
	
	@MODULE[ModuleEngines*]
	{
		@minThrust = 97.86
		@maxThrust = 97.86
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.5017
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.4983
		}
		@atmosphereCurve
		{
			@key,0 = 0 314
			@key,1 = 1 150
		}
		!IGNITOR_RESOURCE,* {}
	}
	!MODULE[ModuleGimbal] {}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 4.5
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}
	engineType = LMDE
}

@PART[bluedog_Apollo_Block2_Decoupler]:FOR[RealismOverhaul]
{
	@rescaleFactor = 1.6
}

@PART[bluedog_Apollo_Block2_RCSquad]:FOR[RealismOverhaul]
{
	@rescaleFactor = 1.6
	
	@MODULE[ModuleRCS*]
	{
		@name = ModuleRCS
		@thrusterTransformName = rcsTransform
		@resourceFlowMode = STACK_PRIORITY_SEARCH
		@thrusterPower = 0.4136846
		!resourceName = DELETE
		PROPELLANT
		{
			name = MMH
			ratio = 0.456
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.544
		}
		@atmosphereCurve
		{
			@key,0 = 0 260
			@key,1 = 1 100
		}
	}
	
	!runningEffectName = DELETE
	
	!EFFECTS {}
}
